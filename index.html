<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Presensi Siswa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .slide-in { animation: slideIn 0.3s ease-out; }
        @keyframes slideIn { from { transform: translateX(-20px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-lg border-b-4 border-blue-500">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-3">
                    <div class="bg-blue-500 p-2 rounded-lg">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">Sistem Presensi</h1>
                        <p class="text-sm text-gray-600">SMP NEGERI 3 MLATI</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="text-right">
                        <p class="text-sm font-medium text-gray-900">Guru: Pak ANU</p>
                        <p class="text-xs text-gray-600" id="currentDate"></p>
                    </div>
                    <div class="bg-green-100 p-2 rounded-full">
                        <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Navigation Tabs -->
        <div class="bg-white rounded-xl shadow-lg mb-8 overflow-hidden">
            <div class="flex border-b border-gray-200">
                <button onclick="showTab('presensi')" id="tab-presensi" class="flex-1 py-4 px-6 text-center font-medium text-blue-600 bg-blue-50 border-b-2 border-blue-500 transition-all">
                    <svg class="w-5 h-5 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                    </svg>
                    Presensi Harian
                </button>
                <button onclick="showTab('laporan')" id="tab-laporan" class="flex-1 py-4 px-6 text-center font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all">
                    <svg class="w-5 h-5 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                    </svg>
                    Laporan
                </button>
                <button onclick="showTab('siswa')" id="tab-siswa" class="flex-1 py-4 px-6 text-center font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all">
                    <svg class="w-5 h-5 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path>
                    </svg>
                    Data Siswa
                </button>
            </div>
        </div>

        <!-- Tab Content: Presensi Harian -->
        <div id="content-presensi" class="tab-content fade-in">
            <!-- Class Selection -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">Pilih Kelas dan Mata Pelajaran</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                        <select id="kelasSelect" onchange="changeClass()" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="10A">Kelas 10A</option>
                            <option value="10B">Kelas 10B</option>
                            <option value="11A">Kelas 11A</option>
                            <option value="11B">Kelas 11B</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Mata Pelajaran</label>
                        <select id="mapelSelect" onchange="changeSubject()" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="Matematika">Matematika</option>
                            <option value="Bahasa Indonesia">Bahasa Indonesia</option>
                            <option value="Bahasa Inggris">Bahasa Inggris</option>
                            <option value="Fisika">Fisika</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Jam Pelajaran</label>
                        <select id="jamSelect" onchange="changeSession()" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="1">Jam ke-1 (07:00-07:45)</option>
                            <option value="2">Jam ke-2 (07:45-08:30)</option>
                            <option value="3">Jam ke-3 (08:30-09:15)</option>
                            <option value="4">Jam ke-4 (09:30-10:15)</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6">
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="flex items-center">
                        <div class="bg-green-100 p-3 rounded-full">
                            <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600">Hadir</p>
                            <p class="text-2xl font-bold text-green-600" id="hadirCount">28</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="flex items-center">
                        <div class="bg-yellow-100 p-3 rounded-full">
                            <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600">Terlambat</p>
                            <p class="text-2xl font-bold text-yellow-600" id="terlambatCount">2</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="flex items-center">
                        <div class="bg-red-100 p-3 rounded-full">
                            <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600">Tidak Hadir</p>
                            <p class="text-2xl font-bold text-red-600" id="tidakHadirCount">0</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="flex items-center">
                        <div class="bg-blue-100 p-3 rounded-full">
                            <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                            </svg>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600">Total Siswa</p>
                            <p class="text-2xl font-bold text-blue-600" id="totalSiswa">30</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Student List -->
            <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                    <h3 class="text-lg font-semibold text-gray-900">Daftar Presensi Siswa</h3>
                    <div class="flex space-x-2">
                        <button onclick="markAllPresent()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                            Tandai Semua Hadir
                        </button>
                        <button onclick="saveAttendance()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                            Simpan Presensi
                        </button>
                    </div>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">No</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">NIS</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nama Siswa</th>
                                <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Status Kehadiran</th>
                                <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Keterangan</th>
                            </tr>
                        </thead>
                        <tbody id="studentList" class="bg-white divide-y divide-gray-200">
                            <!-- Student rows will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Tab Content: Laporan -->
        <div id="content-laporan" class="tab-content hidden">
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">Filter Laporan</h2>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Periode</label>
                        <select id="reportPeriod" onchange="updateReport()" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="minggu">Minggu Ini</option>
                            <option value="bulan">Bulan Ini</option>
                            <option value="semester">Semester Ini</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                        <select id="reportClass" onchange="updateReport()" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="semua">Semua Kelas</option>
                            <option value="10A">Kelas 10A</option>
                            <option value="10B">Kelas 10B</option>
                            <option value="11A">Kelas 11A</option>
                            <option value="11B">Kelas 11B</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Mata Pelajaran</label>
                        <select id="reportSubject" onchange="updateReport()" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="semua">Semua Mapel</option>
                            <option value="Matematika">Matematika</option>
                            <option value="Bahasa Indonesia">Bahasa Indonesia</option>
                            <option value="Bahasa Inggris">Bahasa Inggris</option>
                            <option value="Fisika">Fisika</option>
                        </select>
                    </div>
                    <div class="flex items-end">
                        <button onclick="generateReport()" class="w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-lg font-medium transition-colors">
                            Tampilkan Laporan
                        </button>
                    </div>
                </div>
            </div>

            <!-- Summary Cards -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Tingkat Kehadiran</h3>
                    <div class="text-center">
                        <div class="text-4xl font-bold text-green-600 mb-2" id="reportAttendanceRate">94%</div>
                        <p class="text-sm text-gray-600">Rata-rata kehadiran</p>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Siswa Terlambat</h3>
                    <div class="text-center">
                        <div class="text-4xl font-bold text-yellow-600 mb-2" id="reportLateCount">8</div>
                        <p class="text-sm text-gray-600">Total keterlambatan</p>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Tidak Hadir</h3>
                    <div class="text-center">
                        <div class="text-4xl font-bold text-red-600 mb-2" id="reportAbsentCount">3</div>
                        <p class="text-sm text-gray-600">Total absen</p>
                    </div>
                </div>
            </div>

            <!-- Detailed Report -->
            <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                    <h3 class="text-lg font-semibold text-gray-900">Laporan Detail Kehadiran</h3>
                    <button onclick="exportReport()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                        Export Excel
                    </button>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nama Siswa</th>
                                <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Kelas</th>
                                <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Hadir</th>
                                <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Terlambat</th>
                                <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Tidak Hadir</th>
                                <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Persentase</th>
                            </tr>
                        </thead>
                        <tbody id="reportTableBody" class="bg-white divide-y divide-gray-200">
                            <!-- Report data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Tab Content: Data Siswa -->
        <div id="content-siswa" class="tab-content hidden">
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-semibold text-gray-900">Manajemen Data Siswa</h2>
                    <button onclick="showAddStudentModal()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                        + Tambah Siswa
                    </button>
                </div>
                <div class="flex space-x-4">
                    <input type="text" id="searchStudent" oninput="searchStudents()" placeholder="Cari nama atau NIS..." class="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    <select id="filterStudentClass" onchange="filterStudents()" class="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <option value="semua">Semua Kelas</option>
                        <option value="10A">Kelas 10A</option>
                        <option value="10B">Kelas 10B</option>
                        <option value="11A">Kelas 11A</option>
                        <option value="11B">Kelas 11B</option>
                    </select>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">NIS</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nama Lengkap</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Kelas</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Jenis Kelamin</th>
                                <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="studentDataTable" class="bg-white divide-y divide-gray-200">
                            <!-- Student data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-md mx-4 text-center">
            <div class="bg-green-100 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center">
                <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-2">Berhasil!</h3>
            <p class="text-gray-600 mb-6" id="successMessage">Data presensi telah disimpan dengan sukses.</p>
            <button onclick="closeSuccessModal()" class="bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg font-medium transition-colors">
                OK
            </button>
        </div>
    </div>

    <script>
        // Sample student data for all classes
        const allStudents = {
            '10A': [
                { id: 1, nis: '2024001', name: 'Ahmad Rizki Pratama', class: '10A', gender: 'L' },
                { id: 2, nis: '2024002', name: 'Siti Nurhaliza', class: '10A', gender: 'P' },
                { id: 3, nis: '2024003', name: 'Budi Santoso', class: '10A', gender: 'L' },
                { id: 4, nis: '2024004', name: 'Dewi Sartika', class: '10A', gender: 'P' },
                { id: 5, nis: '2024005', name: 'Andi Wijaya', class: '10A', gender: 'L' },
                { id: 6, nis: '2024006', name: 'Maya Sari', class: '10A', gender: 'P' },
                { id: 7, nis: '2024007', name: 'Rudi Hermawan', class: '10A', gender: 'L' },
                { id: 8, nis: '2024008', name: 'Lina Marlina', class: '10A', gender: 'P' },
                { id: 9, nis: '2024009', name: 'Joko Susilo', class: '10A', gender: 'L' },
                { id: 10, nis: '2024010', name: 'Rina Wati', class: '10A', gender: 'P' },
                { id: 11, nis: '2024011', name: 'Doni Pratama', class: '10A', gender: 'L' },
                { id: 12, nis: '2024012', name: 'Sari Indah', class: '10A', gender: 'P' },
                { id: 13, nis: '2024013', name: 'Hadi Kusuma', class: '10A', gender: 'L' },
                { id: 14, nis: '2024014', name: 'Fitri Handayani', class: '10A', gender: 'P' },
                { id: 15, nis: '2024015', name: 'Agus Salim', class: '10A', gender: 'L' },
                { id: 16, nis: '2024016', name: 'Nita Sari', class: '10A', gender: 'P' },
                { id: 17, nis: '2024017', name: 'Bayu Aji', class: '10A', gender: 'L' },
                { id: 18, nis: '2024018', name: 'Diah Ayu', class: '10A', gender: 'P' },
                { id: 19, nis: '2024019', name: 'Eko Prasetyo', class: '10A', gender: 'L' },
                { id: 20, nis: '2024020', name: 'Wulan Dari', class: '10A', gender: 'P' },
                { id: 21, nis: '2024021', name: 'Fajar Sidik', class: '10A', gender: 'L' },
                { id: 22, nis: '2024022', name: 'Indira Sari', class: '10A', gender: 'P' },
                { id: 23, nis: '2024023', name: 'Gilang Ramadhan', class: '10A', gender: 'L' },
                { id: 24, nis: '2024024', name: 'Putri Ayu', class: '10A', gender: 'P' },
                { id: 25, nis: '2024025', name: 'Hendra Gunawan', class: '10A', gender: 'L' },
                { id: 26, nis: '2024026', name: 'Kartika Sari', class: '10A', gender: 'P' },
                { id: 27, nis: '2024027', name: 'Ivan Setiawan', class: '10A', gender: 'L' },
                { id: 28, nis: '2024028', name: 'Laras Wati', class: '10A', gender: 'P' },
                { id: 29, nis: '2024029', name: 'Jihan Aulia', class: '10A', gender: 'P' },
                { id: 30, nis: '2024030', name: 'Kevin Pratama', class: '10A', gender: 'L' }
            ],
            '10B': [
                { id: 31, nis: '2024031', name: 'Arif Rahman', class: '10B', gender: 'L' },
                { id: 32, nis: '2024032', name: 'Bella Safitri', class: '10B', gender: 'P' },
                { id: 33, nis: '2024033', name: 'Candra Wijaya', class: '10B', gender: 'L' },
                { id: 34, nis: '2024034', name: 'Diana Putri', class: '10B', gender: 'P' },
                { id: 35, nis: '2024035', name: 'Eko Saputra', class: '10B', gender: 'L' },
                { id: 36, nis: '2024036', name: 'Fira Amelia', class: '10B', gender: 'P' },
                { id: 37, nis: '2024037', name: 'Galih Pratama', class: '10B', gender: 'L' },
                { id: 38, nis: '2024038', name: 'Hana Sari', class: '10B', gender: 'P' },
                { id: 39, nis: '2024039', name: 'Irfan Maulana', class: '10B', gender: 'L' },
                { id: 40, nis: '2024040', name: 'Jasmine Putri', class: '10B', gender: 'P' },
                { id: 41, nis: '2024041', name: 'Krisna Bayu', class: '10B', gender: 'L' },
                { id: 42, nis: '2024042', name: 'Luna Maharani', class: '10B', gender: 'P' },
                { id: 43, nis: '2024043', name: 'Miko Pratama', class: '10B', gender: 'L' },
                { id: 44, nis: '2024044', name: 'Nadia Sari', class: '10B', gender: 'P' },
                { id: 45, nis: '2024045', name: 'Oscar Ramadhan', class: '10B', gender: 'L' },
                { id: 46, nis: '2024046', name: 'Priska Dewi', class: '10B', gender: 'P' },
                { id: 47, nis: '2024047', name: 'Qori Maulana', class: '10B', gender: 'L' },
                { id: 48, nis: '2024048', name: 'Rani Safitri', class: '10B', gender: 'P' },
                { id: 49, nis: '2024049', name: 'Satria Budi', class: '10B', gender: 'L' },
                { id: 50, nis: '2024050', name: 'Tania Wulan', class: '10B', gender: 'P' },
                { id: 51, nis: '2024051', name: 'Umar Faruq', class: '10B', gender: 'L' },
                { id: 52, nis: '2024052', name: 'Vina Aulia', class: '10B', gender: 'P' },
                { id: 53, nis: '2024053', name: 'Wahyu Adi', class: '10B', gender: 'L' },
                { id: 54, nis: '2024054', name: 'Xenia Putri', class: '10B', gender: 'P' },
                { id: 55, nis: '2024055', name: 'Yoga Pratama', class: '10B', gender: 'L' },
                { id: 56, nis: '2024056', name: 'Zahra Amelia', class: '10B', gender: 'P' },
                { id: 57, nis: '2024057', name: 'Alvin Setiawan', class: '10B', gender: 'L' },
                { id: 58, nis: '2024058', name: 'Bunga Citra', class: '10B', gender: 'P' },
                { id: 59, nis: '2024059', name: 'Cahyo Budi', class: '10B', gender: 'L' },
                { id: 60, nis: '2024060', name: 'Dinda Sari', class: '10B', gender: 'P' }
            ],
            '11A': [
                { id: 61, nis: '2023001', name: 'Alam Syahputra', class: '11A', gender: 'L' },
                { id: 62, nis: '2023002', name: 'Bintang Cahaya', class: '11A', gender: 'P' },
                { id: 63, nis: '2023003', name: 'Citra Dewi', class: '11A', gender: 'P' },
                { id: 64, nis: '2023004', name: 'Daffa Ramadhan', class: '11A', gender: 'L' },
                { id: 65, nis: '2023005', name: 'Elsa Maharani', class: '11A', gender: 'P' },
                { id: 66, nis: '2023006', name: 'Fadil Akbar', class: '11A', gender: 'L' },
                { id: 67, nis: '2023007', name: 'Gita Sari', class: '11A', gender: 'P' },
                { id: 68, nis: '2023008', name: 'Hafiz Maulana', class: '11A', gender: 'L' },
                { id: 69, nis: '2023009', name: 'Intan Permata', class: '11A', gender: 'P' },
                { id: 70, nis: '2023010', name: 'Jefri Nichol', class: '11A', gender: 'L' },
                { id: 71, nis: '2023011', name: 'Kirana Larasati', class: '11A', gender: 'P' },
                { id: 72, nis: '2023012', name: 'Lukman Hakim', class: '11A', gender: 'L' },
                { id: 73, nis: '2023013', name: 'Melati Putri', class: '11A', gender: 'P' },
                { id: 74, nis: '2023014', name: 'Naufal Rizky', class: '11A', gender: 'L' },
                { id: 75, nis: '2023015', name: 'Olivia Rodrigo', class: '11A', gender: 'P' },
                { id: 76, nis: '2023016', name: 'Pandu Winata', class: '11A', gender: 'L' },
                { id: 77, nis: '2023017', name: 'Queen Maharani', class: '11A', gender: 'P' },
                { id: 78, nis: '2023018', name: 'Raffi Ahmad', class: '11A', gender: 'L' },
                { id: 79, nis: '2023019', name: 'Syifa Hadju', class: '11A', gender: 'P' },
                { id: 80, nis: '2023020', name: 'Tegar Septian', class: '11A', gender: 'L' },
                { id: 81, nis: '2023021', name: 'Ulfa Dwiyanti', class: '11A', gender: 'P' },
                { id: 82, nis: '2023022', name: 'Vino Bastian', class: '11A', gender: 'L' },
                { id: 83, nis: '2023023', name: 'Winda Khair', class: '11A', gender: 'P' },
                { id: 84, nis: '2023024', name: 'Xavier Raharja', class: '11A', gender: 'L' },
                { id: 85, nis: '2023025', name: 'Yuki Kato', class: '11A', gender: 'P' },
                { id: 86, nis: '2023026', name: 'Zidan Alatas', class: '11A', gender: 'L' },
                { id: 87, nis: '2023027', name: 'Aurel Hermansyah', class: '11A', gender: 'P' },
                { id: 88, nis: '2023028', name: 'Bryan Domani', class: '11A', gender: 'L' },
                { id: 89, nis: '2023029', name: 'Chelsea Islan', class: '11A', gender: 'P' },
                { id: 90, nis: '2023030', name: 'Devano Danendra', class: '11A', gender: 'L' }
            ],
            '11B': [
                { id: 91, nis: '2023031', name: 'Azka Corbuzier', class: '11B', gender: 'L' },
                { id: 92, nis: '2023032', name: 'Brisia Jodie', class: '11B', gender: 'P' },
                { id: 93, nis: '2023033', name: 'Cakra Khan', class: '11B', gender: 'L' },
                { id: 94, nis: '2023034', name: 'Dara Arafah', class: '11B', gender: 'P' },
                { id: 95, nis: '2023035', name: 'Erick Iskandar', class: '11B', gender: 'L' },
                { id: 96, nis: '2023036', name: 'Febby Rastanty', class: '11B', gender: 'P' },
                { id: 97, nis: '2023037', name: 'Gibran Maulana', class: '11B', gender: 'L' },
                { id: 98, nis: '2023038', name: 'Hanggini Purinda', class: '11B', gender: 'P' },
                { id: 99, nis: '2023039', name: 'Iqbaal Ramadhan', class: '11B', gender: 'L' },
                { id: 100, nis: '2023040', name: 'Jefan Nathanio', class: '11B', gender: 'L' },
                { id: 101, nis: '2023041', name: 'Keisya Levronka', class: '11B', gender: 'P' },
                { id: 102, nis: '2023042', name: 'Luthya Sury', class: '11B', gender: 'P' },
                { id: 103, nis: '2023043', name: 'Mawar de Jongh', class: '11B', gender: 'P' },
                { id: 104, nis: '2023044', name: 'Naysilla Mirdad', class: '11B', gender: 'P' },
                { id: 105, nis: '2023045', name: 'Onadio Leonardo', class: '11B', gender: 'L' },
                { id: 106, nis: '2023046', name: 'Prilly Latuconsina', class: '11B', gender: 'P' },
                { id: 107, nis: '2023047', name: 'Quincy Wilson', class: '11B', gender: 'L' },
                { id: 108, nis: '2023048', name: 'Raisa Andriana', class: '11B', gender: 'P' },
                { id: 109, nis: '2023049', name: 'Shenina Cinnamon', class: '11B', gender: 'P' },
                { id: 110, nis: '2023050', name: 'Teuku Rizky', class: '11B', gender: 'L' },
                { id: 111, nis: '2023051', name: 'Umay Shahab', class: '11B', gender: 'L' },
                { id: 112, nis: '2023052', name: 'Valerie Thomas', class: '11B', gender: 'P' },
                { id: 113, nis: '2023053', name: 'Wulan Guritno', class: '11B', gender: 'P' },
                { id: 114, nis: '2023054', name: 'Xabiru Oshe', class: '11B', gender: 'L' },
                { id: 115, nis: '2023055', name: 'Yasmin Napper', class: '11B', gender: 'P' },
                { id: 116, nis: '2023056', name: 'Zara Leola', class: '11B', gender: 'P' },
                { id: 117, nis: '2023057', name: 'Adipati Dolken', class: '11B', gender: 'L' },
                { id: 118, nis: '2023058', name: 'Bianca Hello', class: '11B', gender: 'P' },
                { id: 119, nis: '2023059', name: 'Cut Syifa', class: '11B', gender: 'P' },
                { id: 120, nis: '2023060', name: 'Dion Wiyoko', class: '11B', gender: 'L' }
            ]
        };

        let currentClass = '10A';
        let currentSubject = 'Matematika';
        let currentSession = '1';
        let students = allStudents[currentClass];
        let attendance = {};
        let attendanceHistory = {}; // Store attendance history for all classes and subjects

        // Initialize attendance data for current class, subject, and session
        function initializeAttendance() {
            const key = `${currentClass}_${currentSubject}_${currentSession}`;
            if (!attendanceHistory[key]) {
                attendanceHistory[key] = {};
                students.forEach((student, index) => {
                    // Set most students as present, some as late for demo
                    if (index < students.length - 2) {
                        attendanceHistory[key][student.id] = 'hadir';
                    } else {
                        attendanceHistory[key][student.id] = 'terlambat';
                    }
                });
            }
            attendance = attendanceHistory[key];
        }

        // Change class function
        function changeClass() {
            const selectedClass = document.getElementById('kelasSelect').value;
            currentClass = selectedClass;
            students = allStudents[currentClass];
            initializeAttendance();
            renderStudentList();
            updateClassInfo();
        }

        // Change subject function
        function changeSubject() {
            currentSubject = document.getElementById('mapelSelect').value;
            initializeAttendance();
            renderStudentList();
            updateClassInfo();
        }

        // Change session function
        function changeSession() {
            currentSession = document.getElementById('jamSelect').value;
            initializeAttendance();
            renderStudentList();
            updateClassInfo();
        }

        // Update class info display
        function updateClassInfo() {
            const classInfo = `${currentClass} - ${currentSubject} - Jam ke-${currentSession}`;
            document.querySelector('.text-2xl.font-bold').textContent = `Presensi: ${classInfo}`;
        }

        // Set current date
        document.getElementById('currentDate').textContent = new Date().toLocaleDateString('id-ID', {
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });

        // Tab functionality
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            
            // Remove active state from all tabs
            document.querySelectorAll('[id^="tab-"]').forEach(tab => {
                tab.classList.remove('text-blue-600', 'bg-blue-50', 'border-blue-500');
                tab.classList.add('text-gray-600');
            });
            
            // Show selected tab content
            document.getElementById(`content-${tabName}`).classList.remove('hidden');
            
            // Add active state to selected tab
            const activeTab = document.getElementById(`tab-${tabName}`);
            activeTab.classList.remove('text-gray-600');
            activeTab.classList.add('text-blue-600', 'bg-blue-50', 'border-b-2', 'border-blue-500');

            // Update content based on tab
            if (tabName === 'laporan') {
                updateReport();
            } else if (tabName === 'siswa') {
                renderStudentDataTable();
            }
        }

        // Render student list
        function renderStudentList() {
            const studentList = document.getElementById('studentList');
            studentList.innerHTML = '';

            students.forEach((student, index) => {
                const status = attendance[student.id] || 'belum-dicek';
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-50 transition-colors';
                
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${index + 1}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${student.nis}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="flex-shrink-0 h-10 w-10">
                                <div class="h-10 w-10 rounded-full ${student.gender === 'L' ? 'bg-blue-100' : 'bg-pink-100'} flex items-center justify-center">
                                    <span class="text-sm font-medium ${student.gender === 'L' ? 'text-blue-600' : 'text-pink-600'}">
                                        ${student.name.charAt(0)}
                                    </span>
                                </div>
                            </div>
                            <div class="ml-4">
                                <div class="text-sm font-medium text-gray-900">${student.name}</div>
                                <div class="text-sm text-gray-500">${student.gender === 'L' ? 'Laki-laki' : 'Perempuan'}</div>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-center">
                        <div class="flex justify-center space-x-2">
                            <button onclick="setAttendance(${student.id}, 'hadir')" 
                                class="px-3 py-1 rounded-full text-xs font-medium transition-colors ${status === 'hadir' ? 'bg-green-500 text-white' : 'bg-gray-200 text-gray-700 hover:bg-green-100'}">
                                Hadir
                            </button>
                            <button onclick="setAttendance(${student.id}, 'terlambat')" 
                                class="px-3 py-1 rounded-full text-xs font-medium transition-colors ${status === 'terlambat' ? 'bg-yellow-500 text-white' : 'bg-gray-200 text-gray-700 hover:bg-yellow-100'}">
                                Terlambat
                            </button>
                            <button onclick="setAttendance(${student.id}, 'tidak-hadir')" 
                                class="px-3 py-1 rounded-full text-xs font-medium transition-colors ${status === 'tidak-hadir' ? 'bg-red-500 text-white' : 'bg-gray-200 text-gray-700 hover:bg-red-100'}">
                                Tidak Hadir
                            </button>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-center">
                        <input type="text" placeholder="Keterangan..." 
                            class="w-32 px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                    </td>
                `;
                
                studentList.appendChild(row);
            });
            
            updateStats();
        }

        // Set attendance status
        function setAttendance(studentId, status) {
            const key = `${currentClass}_${currentSubject}_${currentSession}`;
            attendance[studentId] = status;
            attendanceHistory[key][studentId] = status;
            renderStudentList();
        }

        // Mark all students as present
        function markAllPresent() {
            const key = `${currentClass}_${currentSubject}_${currentSession}`;
            students.forEach(student => {
                attendance[student.id] = 'hadir';
                attendanceHistory[key][student.id] = 'hadir';
            });
            renderStudentList();
        }

        // Update statistics
        function updateStats() {
            const hadir = Object.values(attendance).filter(status => status === 'hadir').length;
            const terlambat = Object.values(attendance).filter(status => status === 'terlambat').length;
            const tidakHadir = Object.values(attendance).filter(status => status === 'tidak-hadir').length;
            
            document.getElementById('hadirCount').textContent = hadir;
            document.getElementById('terlambatCount').textContent = terlambat;
            document.getElementById('tidakHadirCount').textContent = tidakHadir;
            document.getElementById('totalSiswa').textContent = students.length;
        }

        // Save attendance
        function saveAttendance() {
            document.getElementById('successMessage').textContent = `Data presensi ${currentClass} - ${currentSubject} - Jam ke-${currentSession} telah disimpan dengan sukses.`;
            document.getElementById('successModal').classList.remove('hidden');
            document.getElementById('successModal').classList.add('flex');
        }

        // Close success modal
        function closeSuccessModal() {
            document.getElementById('successModal').classList.add('hidden');
            document.getElementById('successModal').classList.remove('flex');
        }

        // Report functions
        function updateReport() {
            generateReportData();
        }

        function generateReport() {
            generateReportData();
            document.getElementById('successMessage').textContent = 'Laporan berhasil diperbarui!';
            document.getElementById('successModal').classList.remove('hidden');
            document.getElementById('successModal').classList.add('flex');
        }

        function generateReportData() {
            const selectedClass = document.getElementById('reportClass').value;
            const period = document.getElementById('reportPeriod').value;
            const subject = document.getElementById('reportSubject').value;

            let reportData = [];
            let totalHadir = 0, totalTerlambat = 0, totalTidakHadir = 0, totalSiswa = 0;

            // Get data based on selected class
            if (selectedClass === 'semua') {
                // Combine all classes
                Object.keys(allStudents).forEach(className => {
                    const classStudents = allStudents[className];
                    const classAttendance = attendanceHistory[className] || {};
                    
                    classStudents.forEach(student => {
                        const status = classAttendance[student.id] || 'belum-dicek';
                        const hadir = status === 'hadir' ? Math.floor(Math.random() * 5) + 15 : Math.floor(Math.random() * 3) + 12;
                        const terlambat = status === 'terlambat' ? Math.floor(Math.random() * 3) + 2 : Math.floor(Math.random() * 2);
                        const tidakHadir = status === 'tidak-hadir' ? Math.floor(Math.random() * 3) + 1 : Math.floor(Math.random() * 2);
                        
                        const total = hadir + terlambat + tidakHadir;
                        const percentage = Math.round((hadir / total) * 100);
                        
                        reportData.push({
                            name: student.name,
                            class: student.class,
                            hadir: hadir,
                            terlambat: terlambat,
                            tidakHadir: tidakHadir,
                            percentage: percentage
                        });
                        
                        totalHadir += hadir;
                        totalTerlambat += terlambat;
                        totalTidakHadir += tidakHadir;
                        totalSiswa++;
                    });
                });
            } else {
                // Single class
                const classStudents = allStudents[selectedClass];
                const classAttendance = attendanceHistory[selectedClass] || {};
                
                classStudents.forEach(student => {
                    const status = classAttendance[student.id] || 'belum-dicek';
                    const hadir = status === 'hadir' ? Math.floor(Math.random() * 5) + 15 : Math.floor(Math.random() * 3) + 12;
                    const terlambat = status === 'terlambat' ? Math.floor(Math.random() * 3) + 2 : Math.floor(Math.random() * 2);
                    const tidakHadir = status === 'tidak-hadir' ? Math.floor(Math.random() * 3) + 1 : Math.floor(Math.random() * 2);
                    
                    const total = hadir + terlambat + tidakHadir;
                    const percentage = Math.round((hadir / total) * 100);
                    
                    reportData.push({
                        name: student.name,
                        class: student.class,
                        hadir: hadir,
                        terlambat: terlambat,
                        tidakHadir: tidakHadir,
                        percentage: percentage
                    });
                    
                    totalHadir += hadir;
                    totalTerlambat += terlambat;
                    totalTidakHadir += tidakHadir;
                    totalSiswa++;
                });
            }

            // Update summary cards
            const totalKehadiran = totalHadir + totalTerlambat + totalTidakHadir;
            const attendanceRate = totalKehadiran > 0 ? Math.round((totalHadir / totalKehadiran) * 100) : 0;
            
            document.getElementById('reportAttendanceRate').textContent = attendanceRate + '%';
            document.getElementById('reportLateCount').textContent = totalTerlambat;
            document.getElementById('reportAbsentCount').textContent = totalTidakHadir;

            // Render report table
            renderReportTable(reportData);
        }

        function renderReportTable(data) {
            const tableBody = document.getElementById('reportTableBody');
            tableBody.innerHTML = '';

            data.forEach(student => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${student.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center text-gray-900">${student.class}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center text-green-600 font-medium">${student.hadir}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center text-yellow-600 font-medium">${student.terlambat}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center text-red-600 font-medium">${student.tidakHadir}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center font-medium">${student.percentage}%</td>
                `;
                tableBody.appendChild(row);
            });
        }

        function exportReport() {
            document.getElementById('successMessage').textContent = 'Fitur export Excel akan segera tersedia!';
            document.getElementById('successModal').classList.remove('hidden');
            document.getElementById('successModal').classList.add('flex');
        }

        // Student data management functions
        function renderStudentDataTable() {
            const tableBody = document.getElementById('studentDataTable');
            tableBody.innerHTML = '';

            // Get all students from all classes
            let allStudentsFlat = [];
            Object.keys(allStudents).forEach(className => {
                allStudentsFlat = allStudentsFlat.concat(allStudents[className]);
            });

            // Apply filters
            const searchTerm = document.getElementById('searchStudent')?.value.toLowerCase() || '';
            const classFilter = document.getElementById('filterStudentClass')?.value || 'semua';

            let filteredStudents = allStudentsFlat.filter(student => {
                const matchesSearch = student.name.toLowerCase().includes(searchTerm) || 
                                    student.nis.includes(searchTerm);
                const matchesClass = classFilter === 'semua' || student.class === classFilter;
                return matchesSearch && matchesClass;
            });

            filteredStudents.forEach(student => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${student.nis}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${student.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${student.class}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${student.gender === 'L' ? 'Laki-laki' : 'Perempuan'}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-center">
                        <span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">Aktif</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-center text-sm font-medium">
                        <button onclick="editStudent(${student.id})" class="text-blue-600 hover:text-blue-900 mr-3">Edit</button>
                        <button onclick="deleteStudent(${student.id})" class="text-red-600 hover:text-red-900">Hapus</button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        function searchStudents() {
            renderStudentDataTable();
        }

        function filterStudents() {
            renderStudentDataTable();
        }

        function editStudent(studentId) {
            document.getElementById('successMessage').textContent = 'Fitur edit siswa akan segera tersedia!';
            document.getElementById('successModal').classList.remove('hidden');
            document.getElementById('successModal').classList.add('flex');
        }

        function deleteStudent(studentId) {
            if (confirm('Apakah Anda yakin ingin menghapus data siswa ini?')) {
                document.getElementById('successMessage').textContent = 'Data siswa berhasil dihapus!';
                document.getElementById('successModal').classList.remove('hidden');
                document.getElementById('successModal').classList.add('flex');
            }
        }

        // Show add student modal (placeholder)
        function showAddStudentModal() {
            document.getElementById('successMessage').textContent = 'Fitur tambah siswa akan segera tersedia!';
            document.getElementById('successModal').classList.remove('hidden');
            document.getElementById('successModal').classList.add('flex');
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize attendance for default selection
            currentClass = '10A';
            currentSubject = 'Matematika';
            currentSession = '1';
            students = allStudents[currentClass];
            initializeAttendance();
            
            renderStudentList();
            updateStats();
            updateClassInfo();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'975a0e2fb5d0c26b',t:'MTc1NjI4MTgzOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
